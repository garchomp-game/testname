<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>EC_site</title>
    <link rel="stylesheet" href="../ec_style" >
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/ec_style.css">
  </head>
  <body>
    <header>
      <div class="container">
        <h1>ECサイトタイトル</h1>
        <div class="login">
          <%if @login_check.nil?%>
          <!--  ここに条件分岐を入れて、ログイン、ログアウトの状態を振り分ける。 -->
          <form action="/login" method="post">
            <input type="hidden" name="login" value="on_login">
            <input type="submit" value="ログインする">
          </form>

            <%else%>
          <!-- ここまで -->

          <p id="welcome_user"><a href="/mydata"><%=@login_check["name"]%></a>さんようこそ！</p>
          <form action="/login" method="post">
            <input type="hidden" name="login" value="off_login">
            <input type="submit" value="ログアウト">
          </form>
          <a class="link_button" href="/cart"><i class="fa fa-cart-arrow-down" id="fa-cart" aria-hidden="true"></i> カート</a>
            <%end%>
            <a href="/" class="link_button">トップに戻る</a>
        </div>
      </div>
    </header>
    <div class="login-form">
      <h1>登録情報</h1>
      <form action="registration_confirm" method="post">
        <p><span>ユーザー名</span>：<input type="text" name="name" value="<%=@name%>"></p>
        <p><span>パスワード</span>：<input type="text" name="pass" value="<%=@pass%>"></p>
        <p><span>メールアドレス</span>：<input type="text" name="mail" value="<%=@mail%>"></p>
        <p><span>住所</span>：<input type="text" name="address" value="<%=@address%>"></p>
        <button type="submit" class="submit">確認画面へ</button>
      </form>
      <%begin%>
        <%@niltotal.each do|i|%>
        <p style="color:red;line-height:0em;"><%=i%></p>
        <%end%>
      <%rescue%>
        <p></p>
      <%end%>
    </div>

    <!--
    loginからのみ遷移
    フォームがあり、入力するのは以下の要素
    ユーザー名
    パスワード
    メールアドレス
    住所
    registrationconfirmから戻ってきた場合は、値を保持して記入済みにできる
  -->
    <footer>
      <h1>EC_site</h1>
      <small>	&#x1F12B;garchomp</small>
    </footer>
  </body>
</html>
